# mysql事务
## 1. 能说一说mysql事务吗？
事务是一组操作的集合，它是一个不可分割的工作单位，事务会把所有的操作作为一个整体一起向系统提交或撤销操作请求，即这些操作要么同时成功，要么同时失败。

事务具有ACID四个特性：
- 原子性（<font color=red>A</font>tomicity）：事务是不可分割的最小操作单元，要么全部成功，要么全部失败。
- 一致性（<font color=red>C</font>onsistency）：事务完成时，必须使所有的数据都保持一致状态。
- 隔离性（<font color=red>I</font>solation）：数据库系统提供的隔离机制，保证事务在不受外部并发操作影响的独立环境下运行。
- 持久性（<font color=red>D</font>urability）：事务一旦提交或回滚，它对数据库中的数据的改变就是永久的。
> 例如，A向B转账500元，这个操作要么都成功，要么都失败，体现了原子性。转账过程中数据要保持一致，A扣除了500元，B必须增加500元。隔离性体现在A向B转账时，不受其他事务干扰。持久性体现在事务提交后，数据要被持久化存储。

## 2. 并发事务会带来哪些问题？怎么解决这些问题？
并发事务问题：

| 类型 | 含义   |
|----|------|
| 脏读 | 一个事务读到另外一个事务还没有提交的数据 |
| 不可重复读 | 一个事务先后读取同一条记录，但两次读取的数据不同 |     
| 幻读 | 一个事务按照条件查询数据时，没有对应的数据行，但是在插入数据时，又发现这行数据已经存在，好像出现了”幻影” |

解决这些问题的方法是对事务进行隔离

| 隔离级别 | 脏读 | 不可重复读 | 幻读 |
|--------|------|-------|------|
| Read uncommitted 未提交读 | √ | √ | √ |
| Read committed 已提交读 | × | √ | √ |
| Repeatable read(<font color=red>默认</font>) 可重复读 | × | × | √ |
| Serializable 可串行化 | × | × | × |
⚠️事务隔离级别越高，数据越安全，但是性能越低。